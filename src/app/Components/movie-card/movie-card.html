<div class="card h-100 border-0 shadow-sm movie-card">
  <div class="position-relative">
    <img
      [src]="movie.poster_path"
      [alt]="movie.title"
      class="card-img-top"
      style="height: 300px; object-fit: cover; cursor: pointer"
      (click)="navigateToDetail()"
    />

    <div class="position-absolute top-0 start-0 m-2">
      <span class="badge bg-dark bg-opacity-75 rounded-pill px-2 py-1">
        <i class="fas fa-star text-warning me-1"></i>
        {{ movie.vote_average | number : "1.1-1" }}
      </span>
    </div>

    <div class="position-absolute top-0 end-0 m-2">
      <button
        class="btn btn-sm rounded-circle p-2 border-0 heart-btn"
        [class.btn-warning]="movie.isInWatchlist"
        [class.btn-light]="!movie.isInWatchlist"
        (click)="toggleWatchlist($event)"
        style="width: 40px; height: 40px"
      >
        <i
          class="fas fa-heart"
          [class.text-white]="movie.isInWatchlist"
          [class.text-muted]="!movie.isInWatchlist"
        ></i>
      </button>
    </div>
  </div>

  <div class="card-body p-3">
    <h6 class="card-title fw-bold mb-1 text-truncate">
      <a
        [routerLink]="['/movie', movie.id]"
        class="text-decoration-none text-dark"
      >
        {{ movie.title }}
      </a>
    </h6>
    <small class="text-muted">{{ getYear(movie.release_date) }}</small>
  </div>
</div>
